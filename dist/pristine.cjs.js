var L=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var V=Object.prototype.hasOwnProperty;var H=(t,l)=>{for(var c in l)L(t,c,{get:l[c],enumerable:!0})},D=(t,l,c,r)=>{if(l&&typeof l=="object"||typeof l=="function")for(let h of N(l))!V.call(t,h)&&h!==c&&L(t,h,{get:()=>l[h],enumerable:!(r=F(l,h))||r.enumerable});return t};var G=t=>D(L({},"__esModule",{value:!0}),t);var X={};H(X,{default:()=>x});module.exports=G(X);var b={en:{required:"This field is required",email:"This field requires a valid email address",number:"This field requires a number",integer:"This field requires an integer value",url:"This field requires a valid website URL",tel:"This field requires a valid telephone number",maxlength:"This fields length must be < ${1}",minlength:"This fields length must be > ${1}",min:"Minimum value for this field is ${1}",max:"Maximum value for this field is ${1}",pattern:"Please match the requested format",equals:"The two fields do not match",default:"Please enter a correct value"}};function M(t,l){for(;(t=t.parentElement)&&!t.classList.contains(l););return t}function v(t){return this.replace(/\${([^{}]*)}/g,(l,c)=>arguments[c])}function A(t){return t.pristine.self.form.querySelectorAll('input[name="'+t.getAttribute("name")+'"]:checked').length}function O(t,l){for(let c in l)c in t||(t[c]=l[c]);return t}var k={classTo:"form-group",errorClass:"has-danger",successClass:"has-success",errorTextParent:"form-group",errorTextTag:"div",errorTextClass:"text-help"},q="pristine-error",z="input:not([type^=hidden]):not([type^=submit]), select, textarea",_=new Set(["required","min","max","minlength","maxlength","pattern"]),Z=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,U=/-message(?:-([a-z]{2}(?:_[A-Z]{2})?))?/,g="en",I={},m=function(t,l){l.name=t,l.priority===void 0&&(l.priority=1),I[t]=l};m("text",{fn:t=>!0,priority:0});m("required",{fn:function(t){return this.type==="radio"||this.type==="checkbox"?A(this):t!==void 0&&t.trim()!==""},priority:99,halt:!0});m("email",{fn:t=>!t||Z.test(t)});m("number",{fn:t=>!t||!isNaN(parseFloat(t)),priority:2});m("integer",{fn:t=>!t||/^\d+$/.test(t)});m("minlength",{fn:(t,l)=>!t||t.length>=parseInt(l)});m("maxlength",{fn:(t,l)=>!t||t.length<=parseInt(l)});m("min",{fn:function(t,l){return!t||(this.type==="checkbox"?A(this)>=parseInt(l):parseFloat(t)>=parseFloat(l))}});m("max",{fn:function(t,l){return!t||(this.type==="checkbox"?A(this)<=parseInt(l):parseFloat(t)<=parseFloat(l))}});m("pattern",{fn:(t,l)=>{let c=l.match(new RegExp("^/(.*?)/([gimy]*)$"));return!t||new RegExp(c[1],c[2]).test(t)}});m("equals",{fn:(t,l)=>{let c=document.querySelector(l);return c&&(!t&&!c.value||c.value===t)}});function x(t,l,c){let r=this;h(t,l,c);function h(e,n,i){e.setAttribute("novalidate","true"),r.form=e,r.config=O(n||{},k),i==="live"?r.live="live":i==="blur"?r.live="blur":i==="hybrid"?r.live="hybrid":r.live="off",r.fields=Array.from(e.querySelectorAll(z)).map(function(s){let a=[],f={},d={},p=new Set;if([].forEach.call(s.attributes,function(o){if(/^data-pristine-/.test(o.name)){let u=o.name.substr(14);_.has(u)?p.add(u):u==="type"&&p.add(o.value)}}),[].forEach.call(s.attributes,function(o){if(/^data-pristine-/.test(o.name)){let u=o.name.substr(14),y=u.match(U);if(y!==null){let C=y[1]===void 0?"en":y[1];d.hasOwnProperty(C)||(d[C]={}),d[C][u.slice(0,u.length-y[0].length)]=o.value;return}u==="type"&&(u=o.value),T(a,f,u,o.value)}else _.has(o.name)&&!p.has(o.name)?T(a,f,o.name,o.value):o.name==="type"&&!p.has(o.value)&&T(a,f,o.value)}),a.sort((o,u)=>u.priority-o.priority),r.live==="live")s.addEventListener(~["radio","checkbox"].indexOf(s.getAttribute("type"))?"change":"input",function(o){r.validate(o.target)}.bind(r));else if(r.live==="blur")s.addEventListener(~["radio","checkbox"].indexOf(s.getAttribute("type"))?"change":"blur",function(o){r.validate(o.target)}.bind(r));else if(r.live==="hybrid"){let o=!1,u=s.value;s.addEventListener(~["radio","checkbox"].indexOf(s.getAttribute("type"))?"change":"blur",function(y){o=!0,r.validate(y.target)}.bind(r)),s.addEventListener(~["radio","checkbox"].indexOf(s.getAttribute("type"))?"change":"input",function(y){o&&r.validate(y.target)}.bind(r)),s.addEventListener("input",function(){(type==="checkbox"||type==="radio"?s.checked!==defaultChecked:s.value!==u)&&!o&&(o=!0,r.validate(s))})}return s.pristine={input:s,validators:a,params:f,messages:d,self:r}}.bind(r))}function T(e,n,i,s){let a=I[i];if(a&&(e.push(a),s)){let f=i==="pattern"?[s]:s.split(",");f.unshift(null),n[i]=f}}r.validate=async function(e,n){n=e&&n===!0||e===!0;let i=r.fields;e!==!0&&e!==!1&&(e instanceof HTMLElement?i=[e.pristine]:(e instanceof NodeList||e instanceof(window.$||Array)||e instanceof Array)&&(i=Array.from(e).map(a=>a.pristine)));let s=!0;for(let a=0;i[a];a++){let f=i[a];await P(f)?!n&&$(f):(s=!1,!n&&S(f))}return s},r.getErrors=function(e){if(!e){let n=[];for(let i=0;i<r.fields.length;i++){let s=r.fields[i];s.errors.length&&n.push({input:s.input,errors:s.errors})}return n}return e.tagName&&e.tagName.toLowerCase()==="select"?e.pristine.errors:e.length?e[0].pristine.errors:e.pristine.errors};async function P(e){let n=[],i=!0;for(let s=0;e.validators[s];s++){let a=e.validators[s],f=e.params[a.name]?e.params[a.name]:[];if(f[0]=e.input.value,(a.fn.constructor.name==="AsyncFunction"?!await a.fn.apply(e.input,f):!a.fn.apply(e.input,f))&&(i=!1,typeof a.msg=="function"?n.push(a.msg(e.input.value,f)):typeof a.msg=="string"?n.push(v.apply(a.msg,f)):a.msg===Object(a.msg)&&a.msg[g]?n.push(v.apply(a.msg[g],f)):e.messages[g]&&e.messages[g][a.name]?n.push(v.apply(e.messages[g][a.name],f)):b[g]&&b[g][a.name]?n.push(v.apply(b[g][a.name],f)):n.push(v.apply(b[g].default,f)),a.halt===!0))break}return e.errors=n,i}r.addValidator=function(e,n,i,s,a){e instanceof HTMLElement?(e.pristine.validators.push({fn:n,msg:i,priority:s,halt:a}),e.pristine.validators.sort((f,d)=>d.priority-f.priority)):console.warn("The parameter elem must be a dom element")},r.addAsyncValidator=function(e,n,i,s,a){e instanceof HTMLElement?(e.pristine.validators.push({fn:n,msg:i,priority:s,halt:a}),e.pristine.validators.sort((f,d)=>d.priority-f.priority)):console.warn("The parameter elem must be a dom element")};function w(e){if(e.errorElements)return e.errorElements;let n=M(e.input,r.config.classTo),i=null,s=null;return r.config.classTo===r.config.errorTextParent?i=n:i=n.querySelector("."+r.config.errorTextParent),i&&(s=i.querySelector("."+q),s||(s=document.createElement(r.config.errorTextTag),s.className=q+" "+r.config.errorTextClass,i.appendChild(s),s.pristineDisplay=s.style.display)),e.errorElements=[n,s]}function S(e){let n=w(e),i=n[0],s=n[1],{input:a}=e,d=`error-${a.id||Math.floor(new Date().valueOf()*Math.random())}`;if(i){let p=E(r.config.errorClass),o=E(r.config.successClass);o.length&&o.forEach(u=>i.classList.remove(u)),p.length&&p.forEach(u=>i.classList.add(u)),a.setAttribute("aria-describedby",d),a.setAttribute("aria-invalid","true")}s&&(s.setAttribute("id",d),s.setAttribute("role","alert"),s.innerHTML=e.errors.join("<br/>"),s.style.display=s.pristineDisplay||"")}r.addError=function(e,n){e=e.length?e[0]:e,e.pristine.errors.push(n),S(e.pristine)};function R(e){let n=w(e),i=n[0],s=n[1],{input:a}=e;if(i){let f=E(r.config.errorClass),d=E(r.config.successClass);f.length&&f.forEach(p=>i.classList.remove(p)),d.length&&d.forEach(p=>i.classList.remove(p)),a.removeAttribute("aria-describedby"),a.removeAttribute("aria-invalid")}return s&&(s.removeAttribute("id"),s.removeAttribute("role"),s.innerHTML="",s.style.display="none"),n}function $(e){let n=R(e)[0],i=E(r.config.successClass);i.length&&n&&i.forEach(s=>n.classList.add(s))}r.reset=function(){for(let e=0;r.fields[e];e++)r.fields[e].errorElements=null;Array.from(r.form.querySelectorAll("."+q)).map(function(e){e.parentNode.removeChild(e)}),Array.from(r.form.querySelectorAll("."+r.config.classTo)).map(function(e){let n=E(r.config.errorClass),i=E(r.config.successClass);n.length&&i.forEach(s=>e.classList.remove(s)),n.length&&n.forEach(s=>e.classList.remove(s))})};function E(e){let n=e.split(" ").filter(i=>i);return n.length?n:[]}return r.destroy=function(){r.reset(),r.fields.forEach(function(e){delete e.input.pristine}),r.fields=[]},r.setGlobalConfig=function(e){k=e},r}x.addValidator=function(t,l,c,r,h){m(t,{fn:l,msg:c,priority:r,halt:h})};x.addAsyncValidator=function(t,l,c,r,h){m(t,{fn:l,msg:c,priority:r,halt:h})};x.addMessages=function(t,l){let c=b.hasOwnProperty(t)?b[t]:b[t]={};Object.keys(l).forEach(function(r,h){c[r]=l[r]})};x.setLocale=function(t){g=t};
//# sourceMappingURL=pristine.cjs.js.map
